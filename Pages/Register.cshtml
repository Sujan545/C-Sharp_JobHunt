@page

<div class="container min-vh-100 d-flex align-items-center justify-content-center">
    <div class="row shadow-lg rounded-4 overflow-hidden" style="max-width: 900px;">
        
        <div class="col-md-6 bg-success text-white p-5 d-flex flex-column justify-content-center">
            <h1 class="fw-bold">Join JobHunt</h1>
            <p class="mt-3">Create your account and start applying today.</p>
        </div>

        <div class="col-md-6 bg-white p-5">
            <h3 class="mb-4 fw-semibold">Create Account</h3>

            <form id="registerForm">
                <div class="mb-3">
                    <label>Full Name</label>
                    <input id="fullName" class="form-control" required />
                </div>
                <div class="mb-3">
                    <label>Email</label>
                    <input id="email" class="form-control" type="email" required />
                </div>
                <div class="mb-3">
                    <label>Password</label>
                    <input id="password" class="form-control" type="password" required />
                </div>
                <button type="submit" class="btn btn-success w-100">Register</button>
            </form>

            <p class="mt-3 text-center">
                Already have an account? <a href="/Login">Login</a>
            </p>
        </div>
    </div>
</div>



<script>
document.getElementById("registerForm").addEventListener("submit", async e => {
    e.preventDefault();

    const res = await fetch("/api/auth/register", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
            email: e.target.email.value,
            password: e.target.password.value,
            fullName: e.target.fullName.value,
        })
    });

    if (res.ok) window.location.href = "/Login";
    else alert("Register failed");
});
</script>
